{"version":3,"sources":["components/cars/shared/car.service.ts"],"names":[],"mappings":"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","file":"components/cars/shared/car.service.js","sourcesContent":["import {Injectable} from '@angular/core';\r\nimport {Http, Response} from '@angular/http';\r\n\r\nimport {Car} from './car';\r\n\r\n@Injectable()\r\nexport class CarService {\r\n\r\n\tconstructor(private http: Http) { }\r\n\r\n\tlsName: string = 'appA2Cars';\r\n\tlistCars: Car[];\t\r\n\r\n\tgetCars(): Promise<Car[]> {\r\n\t\tif (localStorage.getItem(this.lsName)) {\r\n\t\t\tthis.listCars = JSON.parse(localStorage.getItem(this.lsName)).cars;\r\n\t\t} else {\r\n\t\t\tthis.listCars = [];\r\n\t\t}\r\n\r\n\t\treturn Promise.resolve(this.listCars);\r\n\t};\r\n\r\n\tgetCar(id: string): Promise<Car> {\r\n\t\treturn this.getCars()\r\n\t\t\t.then(cars => cars.find(car => car.id === id));\r\n\t}\r\n\r\n\taddCar(car: Car): void {\r\n\t\tthis.listCars.push(car);\r\n\t\tthis.saveDataToLocalStorage();\r\n\t}\t\r\n\r\n\teditCar(car: Car): void {\r\n\t\tlet index = this.getIndexById(car.id);\r\n\t\tif (index != null) {\r\n\t\t\tthis.listCars[index] = {\r\n\t\t\t\tid: car.id,\r\n\t\t\t\tvin: car.vin,\r\n\t\t\t\tyear: car.year,\r\n\t\t\t\tbrand: car.brand,\r\n\t\t\t\tcolor: car.color\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\tthis.saveDataToLocalStorage();\r\n\t}\r\n\r\n\tdeleteCar(id: string): void {\r\n\t\tlet index = this.getIndexById(id);\r\n\t\tif (index != null) {\r\n\t\t\tthis.listCars.splice(index, 1);\r\n\t\t\tthis.saveDataToLocalStorage();\r\n\t\t}\r\n\t}\r\n\r\n\tgetIndexById(id: string): number {\r\n\t\tfor (var i = 0; i < this.listCars.length; i++) {\r\n\t\t\tif (this.listCars[i].id === id) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsaveDataToLocalStorage(): void {\r\n\t\tlet objCars = { cars: this.listCars };\r\n\t\tlocalStorage.setItem(this.lsName, JSON.stringify(objCars));\r\n\t} \r\n}"],"sourceRoot":"/source/"}